[
  {
    "database": "ecommerce",
    "index": "products",
    "nodes": {
      "table": "products",
      "schema": "product",
      "columns": [
        "id",
        "name",
        "description",
        "price",
        "status",
        "merchant_id",
        "category_id",
        "category_name",
        "cover_image",
        "attributes",
        "sales_count",
        "rating_score",
        "created_at",
        "updated_at"
      ],
      "transform": {
        "rename": {
          "id": "product_id",
          "name": "product_name"
        },
        "mapping": {
          "product_id": { "type": "keyword" },
          "product_name": {
            "type": "text",
            "fields": {
              "keyword": { "type": "keyword" }
            }
          },
          "description": { "type": "text" },
          "price": { "type": "double"},
          "status": { "type": "keyword" },
          "merchant_id": { "type": "keyword" },
          "category_id": { "type": "integer" },
          "category_name": { "type": "keyword" },
          "cover_image": { "type": "keyword", "index": false },
          "attributes": { "type": "object" },
          "sales_count": { "type": "integer" },
          "rating_score": { "type": "float" },
          "created_at": { "type": "date" },
          "updated_at": { "type": "date" }
        }
      },
      "children": [
        {
          "table": "images",
          "schema": "product",
          "columns": [
            "url",
            "type",
            "sort_order",
            "alt_text"
          ],
          "label": "images",
          "relationship": {
            "variant": "object",
            "type": "one_to_many"
          },
          "transform": {
            "mapping": {
              "url": { "type": "keyword", "index": false },
              "type": { "type": "keyword" },
              "sort_order": { "type": "integer" },
              "alt_text": { "type": "text" }
            }
          }
        }
      ]
    }
  }
]
